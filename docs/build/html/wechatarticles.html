
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" lang="zh_CN">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>wechatarticles package &#8212; wechatarticles  文档</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <script type="text/javascript" src="_static/translations.js"></script>
    <link rel="index" title="索引" href="genindex.html" />
    <link rel="search" title="搜索" href="search.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="wechatarticles-package">
<h1>wechatarticles package<a class="headerlink" href="#wechatarticles-package" title="永久链接至标题">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="永久链接至标题">¶</a></h2>
</div>
<div class="section" id="module-wechatarticles.AccountBiz">
<span id="wechatarticles-accountbiz-module"></span><h2>wechatarticles.AccountBiz module<a class="headerlink" href="#module-wechatarticles.AccountBiz" title="永久链接至标题">¶</a></h2>
<dl class="class">
<dt id="wechatarticles.AccountBiz.AccountBiz">
<em class="property">class </em><code class="descclassname">wechatarticles.AccountBiz.</code><code class="descname">AccountBiz</code><span class="sig-paren">(</span><em>cookie</em>, <em>token=None</em>, <em>method=None</em>, <em>t=120</em>, <em>proxies={'http': None</em>, <em>'https': None}</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wechatarticles/AccountBiz.html#AccountBiz"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#wechatarticles.AccountBiz.AccountBiz" title="永久链接至目标">¶</a></dt>
<dd><p>基类：<code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>通过公众号名称获取biz</p>
<p>微信公众号网页版、清博、西瓜 [‘xigu’, ‘qingbo’, ‘office’]</p>
<p>实测西瓜一次性可获取较多（目前西瓜的已废弃）</p>
<dl class="method">
<dt id="wechatarticles.AccountBiz.AccountBiz.office">
<code class="descname">office</code><span class="sig-paren">(</span><em>s</em>, <em>nickname_lst</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wechatarticles/AccountBiz.html#AccountBiz.office"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#wechatarticles.AccountBiz.AccountBiz.office" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="wechatarticles.AccountBiz.AccountBiz.qingbo">
<code class="descname">qingbo</code><span class="sig-paren">(</span><em>nickname_lst</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wechatarticles/AccountBiz.html#AccountBiz.qingbo"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#wechatarticles.AccountBiz.AccountBiz.qingbo" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="wechatarticles.AccountBiz.AccountBiz.run">
<code class="descname">run</code><span class="sig-paren">(</span><em>nickname_lst</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wechatarticles/AccountBiz.html#AccountBiz.run"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#wechatarticles.AccountBiz.AccountBiz.run" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="wechatarticles.AccountBiz.AccountBiz.xigua">
<code class="descname">xigua</code><span class="sig-paren">(</span><em>nickname_lst</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wechatarticles/AccountBiz.html#AccountBiz.xigua"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#wechatarticles.AccountBiz.AccountBiz.xigua" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-wechatarticles.ArticlesAPI">
<span id="wechatarticles-articlesapi-module"></span><h2>wechatarticles.ArticlesAPI module<a class="headerlink" href="#module-wechatarticles.ArticlesAPI" title="永久链接至标题">¶</a></h2>
<dl class="class">
<dt id="wechatarticles.ArticlesAPI.ArticlesAPI">
<em class="property">class </em><code class="descclassname">wechatarticles.ArticlesAPI.</code><code class="descname">ArticlesAPI</code><span class="sig-paren">(</span><em>username=None</em>, <em>password=None</em>, <em>official_cookie=None</em>, <em>token=None</em>, <em>appmsg_token=None</em>, <em>wechat_cookie=None</em>, <em>outfile=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wechatarticles/ArticlesAPI.html#ArticlesAPI"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#wechatarticles.ArticlesAPI.ArticlesAPI" title="永久链接至目标">¶</a></dt>
<dd><p>基类：<code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>整合PublicAccountsWeb和ArticlesInfo，该API慎用，不再维护</p>
<dl class="method">
<dt id="wechatarticles.ArticlesAPI.ArticlesAPI.complete_info">
<code class="descname">complete_info</code><span class="sig-paren">(</span><em>nickname</em>, <em>begin=0</em>, <em>count=5</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wechatarticles/ArticlesAPI.html#ArticlesAPI.complete_info"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#wechatarticles.ArticlesAPI.ArticlesAPI.complete_info" title="永久链接至目标">¶</a></dt>
<dd><p>获取公众号的抓取的文章文章信息</p>
<dl class="docutils">
<dt>nickname: str</dt>
<dd>公众号名称</dd>
<dt>begin: str or int</dt>
<dd>起始爬取的页数</dd>
<dt>count: str or int</dt>
<dd>每次爬取的数量，1-5</dd>
</dl>
<dl class="docutils">
<dt>list:</dt>
<dd><p class="first">由每个文章信息构成的数组:</p>
<div class="last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span>
    <span class="p">{</span>
        <span class="s1">&#39;aid&#39;</span><span class="p">:</span> <span class="s1">&#39;2650949647_1&#39;</span><span class="p">,</span>
        <span class="s1">&#39;appmsgid&#39;</span><span class="p">:</span> <span class="mi">2650949647</span><span class="p">,</span>
        <span class="s1">&#39;comments&#39;</span><span class="p">:</span> <span class="n">文章评论信息</span>
            <span class="p">{</span>
                <span class="s2">&quot;base_resp&quot;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="s2">&quot;errmsg&quot;</span><span class="p">:</span> <span class="s2">&quot;ok&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;ret&quot;</span><span class="p">:</span> <span class="mi">0</span>
                <span class="p">},</span>
                <span class="s2">&quot;elected_comment&quot;</span><span class="p">:</span> <span class="p">[</span>
                    <span class="p">{</span>
                        <span class="s2">&quot;content&quot;</span><span class="p">:</span> <span class="n">用户评论文字</span><span class="p">,</span>
                        <span class="s2">&quot;content_id&quot;</span><span class="p">:</span> <span class="s2">&quot;6846263421277569047&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;create_time&quot;</span><span class="p">:</span> <span class="mi">1520098511</span><span class="p">,</span>
                        <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
                        <span class="s2">&quot;is_from_friend&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                        <span class="s2">&quot;is_from_me&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                        <span class="s2">&quot;is_top&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="n">是否被置顶</span>
                        <span class="s2">&quot;like_id&quot;</span><span class="p">:</span> <span class="mi">10001</span><span class="p">,</span>
                        <span class="s2">&quot;like_num&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
                        <span class="s2">&quot;like_status&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                        <span class="s2">&quot;logo_url&quot;</span><span class="p">:</span> <span class="s2">&quot;http://wx.qlogo.cn/mmhead/OibRNdtlJdkFLMHYLMR92Lvq0PicDpJpbnaicP3Z6kVcCicLPVjCWbAA9w/132&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;my_id&quot;</span><span class="p">:</span> <span class="mi">23</span><span class="p">,</span>
                        <span class="s2">&quot;nick_name&quot;</span><span class="p">:</span> <span class="n">评论用户的名字</span><span class="p">,</span>
                        <span class="s2">&quot;reply&quot;</span><span class="p">:</span> <span class="p">{</span>
                            <span class="s2">&quot;reply_list&quot;</span><span class="p">:</span> <span class="p">[</span> <span class="p">]</span>
                        <span class="p">}</span>
                    <span class="p">}</span>
                <span class="p">],</span>
                <span class="s2">&quot;elected_comment_total_cnt&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="n">评论总数</span>
                <span class="s2">&quot;enabled&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                <span class="s2">&quot;friend_comment&quot;</span><span class="p">:</span> <span class="p">[</span> <span class="p">],</span>
                <span class="s2">&quot;is_fans&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                <span class="s2">&quot;logo_url&quot;</span><span class="p">:</span> <span class="s2">&quot;http://wx.qlogo.cn/mmhead/Q3auHgzwzM6GAic0FAHOu9Gtv5lEu5kUqO6y6EjEFjAhuhUNIS7Y2AQ/132&quot;</span><span class="p">,</span>
                <span class="s2">&quot;my_comment&quot;</span><span class="p">:</span> <span class="p">[</span> <span class="p">],</span>
                <span class="s2">&quot;nick_name&quot;</span><span class="p">:</span> <span class="n">当前用户名</span><span class="p">,</span>
                <span class="s2">&quot;only_fans_can_comment&quot;</span><span class="p">:</span> <span class="n">false</span>
            <span class="p">},</span>
        <span class="s1">&#39;cover&#39;</span><span class="p">:</span> <span class="n">封面的url</span><span class="s1">&#39;digest&#39;</span><span class="p">:</span> <span class="n">文章摘要</span><span class="p">,</span>
        <span class="s1">&#39;itemidx&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="s1">&#39;like_num&#39;</span><span class="p">:</span> <span class="mi">18</span><span class="p">,</span> <span class="n">文章点赞数</span>
        <span class="s1">&#39;link&#39;</span><span class="p">:</span> <span class="n">文章的url</span><span class="p">,</span>
        <span class="s1">&#39;read_num&#39;</span><span class="p">:</span> <span class="mi">610</span><span class="p">,</span> <span class="n">文章阅读数</span>
        <span class="s1">&#39;title&#39;</span><span class="p">:</span> <span class="n">文章标题</span><span class="p">,</span>
        <span class="s1">&#39;update_time&#39;</span><span class="p">:</span> <span class="n">更新文章的时间戳</span>
    <span class="p">},</span>
<span class="p">]</span>
</pre></div>
</div>
</dd>
</dl>
<p>如果list为空则说明没有相关文章</p>
</dd></dl>

<dl class="method">
<dt id="wechatarticles.ArticlesAPI.ArticlesAPI.continue_info">
<code class="descname">continue_info</code><span class="sig-paren">(</span><em>nickname</em>, <em>begin=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wechatarticles/ArticlesAPI.html#ArticlesAPI.continue_info"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#wechatarticles.ArticlesAPI.ArticlesAPI.continue_info" title="永久链接至目标">¶</a></dt>
<dd><p>自动获取公众号的抓取的文章文章信息，直到爬取失败为止</p>
<dl class="docutils">
<dt>nickname: str</dt>
<dd>公众号名称</dd>
<dt>begin: str or int</dt>
<dd>起始爬取的页数</dd>
</dl>
<dl class="docutils">
<dt>list:</dt>
<dd><p class="first">由每个文章信息构成的数组:</p>
<div class="last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span>
<span class="p">{</span>
    <span class="s1">&#39;aid&#39;</span><span class="p">:</span> <span class="s1">&#39;2650949647_1&#39;</span><span class="p">,</span>
    <span class="s1">&#39;appmsgid&#39;</span><span class="p">:</span> <span class="mi">2650949647</span><span class="p">,</span>
    <span class="s1">&#39;comments&#39;</span><span class="p">:</span> <span class="n">文章评论信息</span>
        <span class="p">{</span>
            <span class="s2">&quot;base_resp&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;errmsg&quot;</span><span class="p">:</span> <span class="s2">&quot;ok&quot;</span><span class="p">,</span>
                <span class="s2">&quot;ret&quot;</span><span class="p">:</span> <span class="mi">0</span>
            <span class="p">},</span>
            <span class="s2">&quot;elected_comment&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="p">{</span>
                    <span class="s2">&quot;content&quot;</span><span class="p">:</span> <span class="n">用户评论文字</span><span class="p">,</span>
                    <span class="s2">&quot;content_id&quot;</span><span class="p">:</span> <span class="s2">&quot;6846263421277569047&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;create_time&quot;</span><span class="p">:</span> <span class="mi">1520098511</span><span class="p">,</span>
                    <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
                    <span class="s2">&quot;is_from_friend&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                    <span class="s2">&quot;is_from_me&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                    <span class="s2">&quot;is_top&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="n">是否被置顶</span>
                    <span class="s2">&quot;like_id&quot;</span><span class="p">:</span> <span class="mi">10001</span><span class="p">,</span>
                    <span class="s2">&quot;like_num&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
                    <span class="s2">&quot;like_status&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                    <span class="s2">&quot;logo_url&quot;</span><span class="p">:</span> <span class="s2">&quot;http://wx.qlogo.cn/mmhead/OibRNdtlJdkFLMHYLMR92Lvq0PicDpJpbnaicP3Z6kVcCicLPVjCWbAA9w/132&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;my_id&quot;</span><span class="p">:</span> <span class="mi">23</span><span class="p">,</span>
                    <span class="s2">&quot;nick_name&quot;</span><span class="p">:</span> <span class="n">评论用户的名字</span><span class="p">,</span>
                    <span class="s2">&quot;reply&quot;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="s2">&quot;reply_list&quot;</span><span class="p">:</span> <span class="p">[</span> <span class="p">]</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="p">],</span>
            <span class="s2">&quot;elected_comment_total_cnt&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="n">评论总数</span>
            <span class="s2">&quot;enabled&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="s2">&quot;friend_comment&quot;</span><span class="p">:</span> <span class="p">[</span> <span class="p">],</span>
            <span class="s2">&quot;is_fans&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="s2">&quot;logo_url&quot;</span><span class="p">:</span> <span class="s2">&quot;http://wx.qlogo.cn/mmhead/Q3auHgzwzM6GAic0FAHOu9Gtv5lEu5kUqO6y6EjEFjAhuhUNIS7Y2AQ/132&quot;</span><span class="p">,</span>
            <span class="s2">&quot;my_comment&quot;</span><span class="p">:</span> <span class="p">[</span> <span class="p">],</span>
            <span class="s2">&quot;nick_name&quot;</span><span class="p">:</span> <span class="n">当前用户名</span><span class="p">,</span>
            <span class="s2">&quot;only_fans_can_comment&quot;</span><span class="p">:</span> <span class="n">false</span>
        <span class="p">},</span>
    <span class="s1">&#39;cover&#39;</span><span class="p">:</span> <span class="n">封面的url</span><span class="s1">&#39;digest&#39;</span><span class="p">:</span> <span class="n">文章摘要</span><span class="p">,</span>
    <span class="s1">&#39;itemidx&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s1">&#39;like_num&#39;</span><span class="p">:</span> <span class="mi">18</span><span class="p">,</span> <span class="n">文章点赞数</span>
    <span class="s1">&#39;link&#39;</span><span class="p">:</span> <span class="n">文章的url</span><span class="p">,</span>
    <span class="s1">&#39;read_num&#39;</span><span class="p">:</span> <span class="mi">610</span><span class="p">,</span> <span class="n">文章阅读数</span>
    <span class="s1">&#39;title&#39;</span><span class="p">:</span> <span class="n">文章标题</span><span class="p">,</span>
    <span class="s1">&#39;update_time&#39;</span><span class="p">:</span> <span class="n">更新文章的时间戳</span>
<span class="p">},</span>
<span class="p">]</span>
</pre></div>
</div>
</dd>
</dl>
<p>如果list为空则说明没有相关文章</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-wechatarticles.ArticlesInfo">
<span id="wechatarticles-articlesinfo-module"></span><h2>wechatarticles.ArticlesInfo module<a class="headerlink" href="#module-wechatarticles.ArticlesInfo" title="永久链接至标题">¶</a></h2>
<dl class="class">
<dt id="wechatarticles.ArticlesInfo.ArticlesInfo">
<em class="property">class </em><code class="descclassname">wechatarticles.ArticlesInfo.</code><code class="descname">ArticlesInfo</code><span class="sig-paren">(</span><em>appmsg_token</em>, <em>cookie</em>, <em>proxies={'http': None</em>, <em>'https': None}</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wechatarticles/ArticlesInfo.html#ArticlesInfo"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#wechatarticles.ArticlesInfo.ArticlesInfo" title="永久链接至目标">¶</a></dt>
<dd><p>基类：<code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>登录WeChat，获取更加详细的推文信息。如点赞数、阅读数、评论等</p>
<dl class="method">
<dt id="wechatarticles.ArticlesInfo.ArticlesInfo.comments">
<code class="descname">comments</code><span class="sig-paren">(</span><em>article_url</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wechatarticles/ArticlesInfo.html#ArticlesInfo.comments"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#wechatarticles.ArticlesInfo.ArticlesInfo.comments" title="永久链接至目标">¶</a></dt>
<dd><p>获取文章评论</p>
<dl class="docutils">
<dt>article_url: str</dt>
<dd>文章链接</dd>
</dl>
<p>json:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;base_resp&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;errmsg&quot;</span><span class="p">:</span> <span class="s2">&quot;ok&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ret&quot;</span><span class="p">:</span> <span class="mi">0</span>
    <span class="p">},</span>
    <span class="s2">&quot;elected_comment&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">&quot;content&quot;</span><span class="p">:</span> <span class="n">用户评论文字</span><span class="p">,</span>
            <span class="s2">&quot;content_id&quot;</span><span class="p">:</span> <span class="s2">&quot;6846263421277569047&quot;</span><span class="p">,</span>
            <span class="s2">&quot;create_time&quot;</span><span class="p">:</span> <span class="mi">1520098511</span><span class="p">,</span>
            <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
            <span class="s2">&quot;is_from_friend&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
            <span class="s2">&quot;is_from_me&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
            <span class="s2">&quot;is_top&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="n">是否被置顶</span>
            <span class="s2">&quot;like_id&quot;</span><span class="p">:</span> <span class="mi">10001</span><span class="p">,</span>
            <span class="s2">&quot;like_num&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
            <span class="s2">&quot;like_status&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
            <span class="s2">&quot;logo_url&quot;</span><span class="p">:</span> <span class="s2">&quot;http://wx.qlogo.cn/mmhead/OibRNdtlJdkFLMHYLMR92Lvq0PicDpJpbnaicP3Z6kVcCicLPVjCWbAA9w/132&quot;</span><span class="p">,</span>
            <span class="s2">&quot;my_id&quot;</span><span class="p">:</span> <span class="mi">23</span><span class="p">,</span>
            <span class="s2">&quot;nick_name&quot;</span><span class="p">:</span> <span class="n">评论用户的名字</span><span class="p">,</span>
            <span class="s2">&quot;reply&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;reply_list&quot;</span><span class="p">:</span> <span class="p">[</span> <span class="p">]</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">],</span>
    <span class="s2">&quot;elected_comment_total_cnt&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="n">评论总数</span>
    <span class="s2">&quot;enabled&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s2">&quot;friend_comment&quot;</span><span class="p">:</span> <span class="p">[</span> <span class="p">],</span>
    <span class="s2">&quot;is_fans&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s2">&quot;logo_url&quot;</span><span class="p">:</span> <span class="s2">&quot;http://wx.qlogo.cn/mmhead/Q3auHgzwzM6GAic0FAHOu9Gtv5lEu5kUqO6y6EjEFjAhuhUNIS7Y2AQ/132&quot;</span><span class="p">,</span>
    <span class="s2">&quot;my_comment&quot;</span><span class="p">:</span> <span class="p">[</span> <span class="p">],</span>
    <span class="s2">&quot;nick_name&quot;</span><span class="p">:</span> <span class="n">当前用户名</span><span class="p">,</span>
    <span class="s2">&quot;only_fans_can_comment&quot;</span><span class="p">:</span> <span class="n">false</span>
<span class="p">}</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="wechatarticles.ArticlesInfo.ArticlesInfo.read_like_nums">
<code class="descname">read_like_nums</code><span class="sig-paren">(</span><em>article_url</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wechatarticles/ArticlesInfo.html#ArticlesInfo.read_like_nums"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#wechatarticles.ArticlesInfo.ArticlesInfo.read_like_nums" title="永久链接至目标">¶</a></dt>
<dd><p>获取阅读数和点赞数</p>
<dl class="docutils">
<dt>article_url: str</dt>
<dd>文章链接</dd>
</dl>
<dl class="docutils">
<dt>(int, int):</dt>
<dd>阅读数、点赞数</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-wechatarticles.ArticlesUrls">
<span id="wechatarticles-articlesurls-module"></span><h2>wechatarticles.ArticlesUrls module<a class="headerlink" href="#module-wechatarticles.ArticlesUrls" title="永久链接至标题">¶</a></h2>
<dl class="class">
<dt id="wechatarticles.ArticlesUrls.Mobile">
<em class="property">class </em><code class="descclassname">wechatarticles.ArticlesUrls.</code><code class="descname">Mobile</code><span class="sig-paren">(</span><em>biz</em>, <em>cookie</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wechatarticles/ArticlesUrls.html#Mobile"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#wechatarticles.ArticlesUrls.Mobile" title="永久链接至目标">¶</a></dt>
<dd><p>基类：<code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>通过移动端的wechat，获取需要爬取的微信公众号的推文链接</p>
<dl class="method">
<dt id="wechatarticles.ArticlesUrls.Mobile.get_urls">
<code class="descname">get_urls</code><span class="sig-paren">(</span><em>appmsg_token</em>, <em>offset='0'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wechatarticles/ArticlesUrls.html#Mobile.get_urls"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#wechatarticles.ArticlesUrls.Mobile.get_urls" title="永久链接至目标">¶</a></dt>
<dd><dl class="docutils">
<dt>appmsg_token: str</dt>
<dd>个人微信号登陆后获取的token</dd>
<dt>offset: str or int</dt>
<dd>获取起始的页数，从0开始，每次递增10（可以大于10，但是不好确认参数，所以递增10，之后再去重）</dd>
</dl>
<p>list:
由每个文章信息构成的数组:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>[
    {
        &#39;app_msg_ext_info&#39;: {
            &#39;audio_fileid&#39;: 0,
            &#39;author&#39;: &#39;&#39;,
            &#39;content&#39;: &#39;&#39;,
            &#39;content_url&#39;: 文章url，存在转义符&#39;/&#39;需要去除,
            &#39;copyright_stat&#39;: 100,
            &#39;cover&#39;: 文章封面url，存在转义符&#39;/&#39;需要去除,
            &#39;del_flag&#39;: 1,
            &#39;digest&#39;: &#39;&#39;,
            &#39;duration&#39;: 0,
            &#39;fileid&#39;: 0,
            &#39;is_multi&#39;: 0,
            &#39;item_show_type&#39;: 8,
            &#39;malicious_content_type&#39;: 0,
            &#39;malicious_title_reason_id&#39;: 0,
            &#39;multi_app_msg_item_list&#39;: [],
            &#39;play_url&#39;: &#39;&#39;,
            &#39;source_url&#39;: &#39;&#39;,
            &#39;subtype&#39;: 9,
            &#39;title&#39;: 文章标题
        },
        &#39;comm_msg_info&#39;: {
            &#39;content&#39;: &#39;&#39;,
            &#39;datetime&#39;: 1536930840,
            &#39;fakeid&#39;: &#39;2394588245&#39;,
            &#39;id&#39;: 1000000262,
            &#39;status&#39;: 2,
            &#39;type&#39;: 49
        }
    }
]
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="wechatarticles.ArticlesUrls.PC">
<em class="property">class </em><code class="descclassname">wechatarticles.ArticlesUrls.</code><code class="descname">PC</code><span class="sig-paren">(</span><em>biz</em>, <em>uin</em>, <em>cookie</em>, <em>proxies={'http': None</em>, <em>'https': None}</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wechatarticles/ArticlesUrls.html#PC"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#wechatarticles.ArticlesUrls.PC" title="永久链接至目标">¶</a></dt>
<dd><p>基类：<code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>通过PC端的微信，获取需要爬取的微信公众号的推文链接</p>
<dl class="method">
<dt id="wechatarticles.ArticlesUrls.PC.get_urls">
<code class="descname">get_urls</code><span class="sig-paren">(</span><em>key</em>, <em>offset='0'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wechatarticles/ArticlesUrls.html#PC.get_urls"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#wechatarticles.ArticlesUrls.PC.get_urls" title="永久链接至目标">¶</a></dt>
<dd><dl class="docutils">
<dt>key: str</dt>
<dd>个人微信号登陆后获取的key</dd>
<dt>offset: str or int</dt>
<dd>获取起始的页数，从0开始，每次递增10（可以大于10，但是不好确认参数，所以递增10，之后再去重）</dd>
</dl>
<p>list:
由每个文章信息构成的数组，主要获取的参数`item[‘app_msg_ext_info’][‘content_url’]`, <cite>item[‘app_msg_ext_info’][‘title’]</cite>, <cite>item[‘comm_msg_info’][‘datetime’]</cite>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>import html
消除转义 html.unescape(html.unescape(url)); eval(repr(url).replace(&#39;\&#39;, &#39;&#39;))
[
    {
        &#39;app_msg_ext_info&#39;: {
            &#39;audio_fileid&#39;: 0,
            &#39;author&#39;: &#39;&#39;,
            &#39;content&#39;: &#39;&#39;,
            &#39;content_url&#39;: 文章url，存在转义符&#39;/&#39;需要去除,
            &#39;copyright_stat&#39;: 100,
            &#39;cover&#39;: 文章封面url，存在转义符&#39;/&#39;需要去除,
            &#39;del_flag&#39;: 1,
            &#39;digest&#39;: &#39;&#39;,
            &#39;duration&#39;: 0,
            &#39;fileid&#39;: 0,
            &#39;is_multi&#39;: 0,
            &#39;item_show_type&#39;: 8,
            &#39;malicious_content_type&#39;: 0,
            &#39;malicious_title_reason_id&#39;: 0,
            &#39;multi_app_msg_item_list&#39;: [],
            &#39;play_url&#39;: &#39;&#39;,
            &#39;source_url&#39;: &#39;&#39;,
            &#39;subtype&#39;: 9,
            &#39;title&#39;: 文章标题
        },
        &#39;comm_msg_info&#39;: {
            &#39;content&#39;: &#39;&#39;,
            &#39;datetime&#39;: 1536930840,
            &#39;fakeid&#39;: &#39;2394588245&#39;,
            &#39;id&#39;: 1000000262,
            &#39;status&#39;: 2,
            &#39;type&#39;: 49
        }
    }
]
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="wechatarticles.ArticlesUrls.PublicAccountsWeb">
<em class="property">class </em><code class="descclassname">wechatarticles.ArticlesUrls.</code><code class="descname">PublicAccountsWeb</code><span class="sig-paren">(</span><em>cookie</em>, <em>token</em>, <em>proxies={'http': None</em>, <em>'https': None}</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wechatarticles/ArticlesUrls.html#PublicAccountsWeb"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#wechatarticles.ArticlesUrls.PublicAccountsWeb" title="永久链接至目标">¶</a></dt>
<dd><p>基类：<code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>通过微信公众号网页版抓取链接，或者公众号信息</p>
<dl class="method">
<dt id="wechatarticles.ArticlesUrls.PublicAccountsWeb.articles_nums">
<code class="descname">articles_nums</code><span class="sig-paren">(</span><em>nickname</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wechatarticles/ArticlesUrls.html#PublicAccountsWeb.articles_nums"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#wechatarticles.ArticlesUrls.PublicAccountsWeb.articles_nums" title="永久链接至目标">¶</a></dt>
<dd><p>获取公众号的总共发布的文章数量</p>
<dl class="docutils">
<dt>nickname <span class="classifier-delimiter">:</span> <span class="classifier">str</span></dt>
<dd>需要爬取公众号名称</dd>
</dl>
<dl class="docutils">
<dt>int</dt>
<dd>文章总数</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="wechatarticles.ArticlesUrls.PublicAccountsWeb.get_urls">
<code class="descname">get_urls</code><span class="sig-paren">(</span><em>nickname</em>, <em>begin=0</em>, <em>count=5</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wechatarticles/ArticlesUrls.html#PublicAccountsWeb.get_urls"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#wechatarticles.ArticlesUrls.PublicAccountsWeb.get_urls" title="永久链接至目标">¶</a></dt>
<dd><p>获取公众号的每页的文章信息</p>
<dl class="docutils">
<dt>nickname <span class="classifier-delimiter">:</span> <span class="classifier">str</span></dt>
<dd>需要爬取公众号名称</dd>
<dt>begin: str or int</dt>
<dd>起始爬取的页数</dd>
<dt>count: str or int</dt>
<dd>每次爬取的数量，1-5</dd>
</dl>
<dl class="docutils">
<dt>list:</dt>
<dd><p class="first">由每个文章信息构成的数组:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span>
<span class="p">{</span>
    <span class="s1">&#39;aid&#39;</span><span class="p">:</span> <span class="s1">&#39;2650949647_1&#39;</span><span class="p">,</span>
    <span class="s1">&#39;appmsgid&#39;</span><span class="p">:</span> <span class="mi">2650949647</span><span class="p">,</span>
    <span class="s1">&#39;cover&#39;</span><span class="p">:</span> <span class="n">封面的url</span><span class="s1">&#39;digest&#39;</span><span class="p">:</span> <span class="n">文章摘要</span><span class="p">,</span>
    <span class="s1">&#39;itemidx&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s1">&#39;link&#39;</span><span class="p">:</span> <span class="n">文章的url</span><span class="p">,</span>
    <span class="s1">&#39;title&#39;</span><span class="p">:</span> <span class="n">文章标题</span><span class="p">,</span>
    <span class="s1">&#39;update_time&#39;</span><span class="p">:</span> <span class="n">更新文章的时间戳</span>
<span class="p">},</span>
<span class="p">]</span>
</pre></div>
</div>
<p class="last">如果list为空则说明没有相关文章</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="wechatarticles.ArticlesUrls.PublicAccountsWeb.latest_articles">
<code class="descname">latest_articles</code><span class="sig-paren">(</span><em>biz</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wechatarticles/ArticlesUrls.html#PublicAccountsWeb.latest_articles"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#wechatarticles.ArticlesUrls.PublicAccountsWeb.latest_articles" title="永久链接至目标">¶</a></dt>
<dd><p>获取公众号的最新页的文章信息</p>
<dl class="docutils">
<dt>biz <span class="classifier-delimiter">:</span> <span class="classifier">str</span></dt>
<dd>公众号的biz</dd>
</dl>
<dl class="docutils">
<dt>list:</dt>
<dd><p class="first">由每个文章信息构成的数组:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span>
<span class="p">{</span>
    <span class="s1">&#39;aid&#39;</span><span class="p">:</span> <span class="s1">&#39;2650949647_1&#39;</span><span class="p">,</span>
    <span class="s1">&#39;appmsgid&#39;</span><span class="p">:</span> <span class="mi">2650949647</span><span class="p">,</span>
    <span class="s1">&#39;cover&#39;</span><span class="p">:</span> <span class="n">封面的url</span><span class="s1">&#39;digest&#39;</span><span class="p">:</span> <span class="n">文章摘要</span><span class="p">,</span>
    <span class="s1">&#39;itemidx&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s1">&#39;link&#39;</span><span class="p">:</span> <span class="n">文章的url</span><span class="p">,</span>
    <span class="s1">&#39;title&#39;</span><span class="p">:</span> <span class="n">文章标题</span><span class="p">,</span>
    <span class="s1">&#39;update_time&#39;</span><span class="p">:</span> <span class="n">更新文章的时间戳</span>
<span class="p">},</span>
<span class="p">]</span>
</pre></div>
</div>
<p class="last">如果list为空则说明没有相关文章</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="wechatarticles.ArticlesUrls.PublicAccountsWeb.official_info">
<code class="descname">official_info</code><span class="sig-paren">(</span><em>nickname</em>, <em>begin=0</em>, <em>count=5</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wechatarticles/ArticlesUrls.html#PublicAccountsWeb.official_info"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#wechatarticles.ArticlesUrls.PublicAccountsWeb.official_info" title="永久链接至目标">¶</a></dt>
<dd><p>根据关键词返回相关公众号的信息</p>
<dl class="docutils">
<dt>nickname <span class="classifier-delimiter">:</span> <span class="classifier">str</span></dt>
<dd>需要爬取公众号名称</dd>
<dt>begin: str or int</dt>
<dd>起始爬取的页数</dd>
<dt>count: str or int</dt>
<dd>每次爬取的数量，1-5</dd>
</dl>
<dl class="docutils">
<dt>list:</dt>
<dd><p class="first">相关公众号的对应信息:</p>
<div class="last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span>
    <span class="p">{</span>
    <span class="s1">&#39;alias&#39;</span><span class="p">:</span> <span class="n">公众号别名</span><span class="p">,</span>
    <span class="s1">&#39;fakeid&#39;</span><span class="p">:</span> <span class="n">公众号唯一id</span><span class="p">,</span>
    <span class="s1">&#39;nickname&#39;</span><span class="p">:</span> <span class="n">公众号名称</span><span class="p">,</span>
    <span class="s1">&#39;round_head_img&#39;</span><span class="p">:</span> <span class="n">公众号头像的url</span><span class="p">,</span>
    <span class="s1">&#39;service_type&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="n">公众号性质</span>
    <span class="p">},</span>
<span class="o">...</span>
<span class="p">]</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="wechatarticles.ArticlesUrls.WeBook">
<em class="property">class </em><code class="descclassname">wechatarticles.ArticlesUrls.</code><code class="descname">WeBook</code><span class="sig-paren">(</span><em>skey</em>, <em>vid</em>, <em>user_agent=None</em>, <em>proxies={'http': None</em>, <em>'https': None}</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wechatarticles/ArticlesUrls.html#WeBook"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#wechatarticles.ArticlesUrls.WeBook" title="永久链接至目标">¶</a></dt>
<dd><p>基类：<code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>通过微信读书，获取需要爬取的微信公众号的推文链接
vid是固定的微信账号
skey是变动的
需要注意抓取时间，如每次抓取暂停50s，则可以抓取51次左右。
该接口也不会封禁（暂时来看），如果被判定频繁，只需要在移动端进行滑动验证码，则可以继续抓取</p>
<dl class="method">
<dt id="wechatarticles.ArticlesUrls.WeBook.get_urls">
<code class="descname">get_urls</code><span class="sig-paren">(</span><em>bookid</em>, <em>offset='0'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wechatarticles/ArticlesUrls.html#WeBook.get_urls"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#wechatarticles.ArticlesUrls.WeBook.get_urls" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-wechatarticles.Url2Html">
<span id="wechatarticles-url2html-module"></span><h2>wechatarticles.Url2Html module<a class="headerlink" href="#module-wechatarticles.Url2Html" title="永久链接至标题">¶</a></h2>
<dl class="class">
<dt id="wechatarticles.Url2Html.Url2Html">
<em class="property">class </em><code class="descclassname">wechatarticles.Url2Html.</code><code class="descname">Url2Html</code><span class="sig-paren">(</span><em>img_path=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wechatarticles/Url2Html.html#Url2Html"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#wechatarticles.Url2Html.Url2Html" title="永久链接至目标">¶</a></dt>
<dd><p>基类：<code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>根据微信文章链接下载为本地HTML文件</p>
<dl class="method">
<dt id="wechatarticles.Url2Html.Url2Html.article_info">
<code class="descname">article_info</code><span class="sig-paren">(</span><em>html</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wechatarticles/Url2Html.html#Url2Html.article_info"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#wechatarticles.Url2Html.Url2Html.article_info" title="永久链接至目标">¶</a></dt>
<dd><p>根据提供的html源码提取文章中的公众号和作者</p>
<dl class="docutils">
<dt>html: str</dt>
<dd>文章HTML源码</dd>
</dl>
<p>(str, str): 公众号名字和作者名字</p>
</dd></dl>

<dl class="method">
<dt id="wechatarticles.Url2Html.Url2Html.download_img">
<code class="descname">download_img</code><span class="sig-paren">(</span><em>url</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wechatarticles/Url2Html.html#Url2Html.download_img"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#wechatarticles.Url2Html.Url2Html.download_img" title="永久链接至目标">¶</a></dt>
<dd><dl class="docutils">
<dt>url: str</dt>
<dd>图片链接</dd>
</dl>
<p>str: 下载图片的本地路径</p>
</dd></dl>

<dl class="method">
<dt id="wechatarticles.Url2Html.Url2Html.download_media">
<code class="descname">download_media</code><span class="sig-paren">(</span><em>html</em>, <em>title</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wechatarticles/Url2Html.html#Url2Html.download_media"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#wechatarticles.Url2Html.Url2Html.download_media" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="wechatarticles.Url2Html.Url2Html.get_timestamp">
<code class="descname">get_timestamp</code><span class="sig-paren">(</span><em>html</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wechatarticles/Url2Html.html#Url2Html.get_timestamp"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#wechatarticles.Url2Html.Url2Html.get_timestamp" title="永久链接至目标">¶</a></dt>
<dd><p>根据提供的html源码提取文章发表的时间戳</p>
<dl class="docutils">
<dt>html: str</dt>
<dd>文章HTML源码</dd>
</dl>
<p>int: 文章发表的时间戳</p>
</dd></dl>

<dl class="method">
<dt id="wechatarticles.Url2Html.Url2Html.get_title">
<code class="descname">get_title</code><span class="sig-paren">(</span><em>html</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wechatarticles/Url2Html.html#Url2Html.get_title"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#wechatarticles.Url2Html.Url2Html.get_title" title="永久链接至目标">¶</a></dt>
<dd><p>根据提供的html源码提取文章中的标题</p>
<dl class="docutils">
<dt>html: str</dt>
<dd>文章HTML源码</dd>
</dl>
<p>str: 根据HTML获取文章标题</p>
</dd></dl>

<dl class="method">
<dt id="wechatarticles.Url2Html.Url2Html.rename_title">
<code class="descname">rename_title</code><span class="sig-paren">(</span><em>title</em>, <em>html</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wechatarticles/Url2Html.html#Url2Html.rename_title"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#wechatarticles.Url2Html.Url2Html.rename_title" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="wechatarticles.Url2Html.Url2Html.replace_img">
<code class="descname">replace_img</code><span class="sig-paren">(</span><em>html</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wechatarticles/Url2Html.html#Url2Html.replace_img"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#wechatarticles.Url2Html.Url2Html.replace_img" title="永久链接至目标">¶</a></dt>
<dd><p>根据提供的html源码找出其中的图片链接，并对其进行替换</p>
<dl class="docutils">
<dt>html: str</dt>
<dd>文章HTML源码</dd>
</dl>
<p>str: 替换html中在线图片链接为本地图片路径</p>
</dd></dl>

<dl class="method">
<dt id="wechatarticles.Url2Html.Url2Html.replace_name">
<code class="descname">replace_name</code><span class="sig-paren">(</span><em>title</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wechatarticles/Url2Html.html#Url2Html.replace_name"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#wechatarticles.Url2Html.Url2Html.replace_name" title="永久链接至目标">¶</a></dt>
<dd><p>对进行标题替换，确保标题符合windows的命名规则</p>
<dl class="docutils">
<dt>title: str</dt>
<dd>文章标题</dd>
</dl>
<p>str: 替换后的文章标题</p>
</dd></dl>

<dl class="method">
<dt id="wechatarticles.Url2Html.Url2Html.run">
<code class="descname">run</code><span class="sig-paren">(</span><em>url</em>, <em>mode</em>, <em>proxies={'http': None</em>, <em>'https': None}</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wechatarticles/Url2Html.html#Url2Html.run"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#wechatarticles.Url2Html.Url2Html.run" title="永久链接至目标">¶</a></dt>
<dd><dl class="docutils">
<dt>url: str</dt>
<dd>微信文章链接</dd>
<dt>mode: int</dt>
<dd>运行模式
1: 返回html源码，不下载图片
2: 返回html源码，下载图片但不替换图片路径
3: 返回html源码，下载图片且替换图片路径
4: 保存html源码，下载图片且替换图片路径
5: 保存html源码，下载图片且替换图片路径，并下载视频与音频</dd>
<dt>kwargs:</dt>
<dd>account: 公众号名
title: 文章名
date: 日期
proxies: 代理
img_path: 图片下载路径</dd>
</dl>
<p>str: HTML源码或消息</p>
</dd></dl>

<dl class="method">
<dt id="wechatarticles.Url2Html.Url2Html.timestamp2date">
<code class="descname">timestamp2date</code><span class="sig-paren">(</span><em>timestamp</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wechatarticles/Url2Html.html#Url2Html.timestamp2date"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#wechatarticles.Url2Html.Url2Html.timestamp2date" title="永久链接至目标">¶</a></dt>
<dd><p>时间戳转日期</p>
<dl class="docutils">
<dt>timestamp: int</dt>
<dd>时间戳</dd>
</dl>
<p>str: 文章发表的日期，yyyy-mm-dd</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-wechatarticles.utils">
<span id="wechatarticles-utils-module"></span><h2>wechatarticles.utils module<a class="headerlink" href="#module-wechatarticles.utils" title="永久链接至标题">¶</a></h2>
<p>辅助脚本函数</p>
<dl class="function">
<dt id="wechatarticles.utils.copyright_num">
<code class="descclassname">wechatarticles.utils.</code><code class="descname">copyright_num</code><span class="sig-paren">(</span><em>copyright_stat</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wechatarticles/utils.html#copyright_num"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#wechatarticles.utils.copyright_num" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="wechatarticles.utils.copyright_num_detailed">
<code class="descclassname">wechatarticles.utils.</code><code class="descname">copyright_num_detailed</code><span class="sig-paren">(</span><em>copyright_stat</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wechatarticles/utils.html#copyright_num_detailed"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#wechatarticles.utils.copyright_num_detailed" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="wechatarticles.utils.end_func">
<code class="descclassname">wechatarticles.utils.</code><code class="descname">end_func</code><span class="sig-paren">(</span><em>timestamp</em>, <em>end_timestamp</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wechatarticles/utils.html#end_func"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#wechatarticles.utils.end_func" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="wechatarticles.utils.flatten">
<code class="descclassname">wechatarticles.utils.</code><code class="descname">flatten</code><span class="sig-paren">(</span><em>x</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wechatarticles/utils.html#flatten"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#wechatarticles.utils.flatten" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="wechatarticles.utils.get_content">
<code class="descclassname">wechatarticles.utils.</code><code class="descname">get_content</code><span class="sig-paren">(</span><em>url</em>, <em>cookie</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wechatarticles/utils.html#get_content"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#wechatarticles.utils.get_content" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="wechatarticles.utils.get_history_urls">
<code class="descclassname">wechatarticles.utils.</code><code class="descname">get_history_urls</code><span class="sig-paren">(</span><em>biz</em>, <em>uin</em>, <em>key</em>, <em>lst=[]</em>, <em>start_timestamp=0</em>, <em>count=10</em>, <em>endcount=99999</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wechatarticles/utils.html#get_history_urls"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#wechatarticles.utils.get_history_urls" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="wechatarticles.utils.read_nickname">
<code class="descclassname">wechatarticles.utils.</code><code class="descname">read_nickname</code><span class="sig-paren">(</span><em>fname</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wechatarticles/utils.html#read_nickname"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#wechatarticles.utils.read_nickname" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="wechatarticles.utils.remove_duplicate_json">
<code class="descclassname">wechatarticles.utils.</code><code class="descname">remove_duplicate_json</code><span class="sig-paren">(</span><em>fname</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wechatarticles/utils.html#remove_duplicate_json"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#wechatarticles.utils.remove_duplicate_json" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="wechatarticles.utils.save_f">
<code class="descclassname">wechatarticles.utils.</code><code class="descname">save_f</code><span class="sig-paren">(</span><em>fname</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wechatarticles/utils.html#save_f"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#wechatarticles.utils.save_f" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="wechatarticles.utils.save_json">
<code class="descclassname">wechatarticles.utils.</code><code class="descname">save_json</code><span class="sig-paren">(</span><em>fname</em>, <em>data</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wechatarticles/utils.html#save_json"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#wechatarticles.utils.save_json" title="永久链接至目标">¶</a></dt>
<dd><p>保存数据为txt格式</p>
<dl class="docutils">
<dt>fname: str</dt>
<dd>保存为txt文件名</dd>
<dt>data: list</dt>
<dd>爬取到的数据</dd>
</dl>
<p>None</p>
</dd></dl>

<dl class="function">
<dt id="wechatarticles.utils.save_mongo">
<code class="descclassname">wechatarticles.utils.</code><code class="descname">save_mongo</code><span class="sig-paren">(</span><em>data</em>, <em>host=None</em>, <em>port=None</em>, <em>name=None</em>, <em>password=''</em>, <em>dbname=None</em>, <em>collname=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wechatarticles/utils.html#save_mongo"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#wechatarticles.utils.save_mongo" title="永久链接至目标">¶</a></dt>
<dd><p>存储数据到mongo</p>
<dl class="docutils">
<dt>data: list</dt>
<dd>需要插入的数据</dd>
<dt>host: str</dt>
<dd>主机名(默认为本机数据库)</dd>
<dt>port: int</dt>
<dd>mongo所在主机开放的端口，默认为27017</dd>
<dt>username: str</dt>
<dd>用户名</dd>
<dt>password: str</dt>
<dd>用户密码</dd>
<dt>dbname: str</dt>
<dd>远程连接的数据库名</dd>
<dt>collname: str</dt>
<dd>需要插入的集合名(collection)</dd>
</dl>
<p>None</p>
</dd></dl>

<dl class="function">
<dt id="wechatarticles.utils.swap_biz_id">
<code class="descclassname">wechatarticles.utils.</code><code class="descname">swap_biz_id</code><span class="sig-paren">(</span><em>biz=None</em>, <em>fakeid=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wechatarticles/utils.html#swap_biz_id"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#wechatarticles.utils.swap_biz_id" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="wechatarticles.utils.timestamp2date">
<code class="descclassname">wechatarticles.utils.</code><code class="descname">timestamp2date</code><span class="sig-paren">(</span><em>timestamp</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wechatarticles/utils.html#timestamp2date"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#wechatarticles.utils.timestamp2date" title="永久链接至目标">¶</a></dt>
<dd><p>时间戳转换为日期</p>
<dl class="docutils">
<dt>timestamp: int or str</dt>
<dd>用户账号</dd>
</dl>
<dl class="docutils">
<dt>datetime:</dt>
<dd>转换好的日期：年-月-日 时:分:秒</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="wechatarticles.utils.transfer_url">
<code class="descclassname">wechatarticles.utils.</code><code class="descname">transfer_url</code><span class="sig-paren">(</span><em>url</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wechatarticles/utils.html#transfer_url"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#wechatarticles.utils.transfer_url" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="wechatarticles.utils.verify_url">
<code class="descclassname">wechatarticles.utils.</code><code class="descname">verify_url</code><span class="sig-paren">(</span><em>article_url</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wechatarticles/utils.html#verify_url"><span class="viewcode-link">[源代码]</span></a><a class="headerlink" href="#wechatarticles.utils.verify_url" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-wechatarticles">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-wechatarticles" title="永久链接至标题">¶</a></h2>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">wechatarticles</a></h1>








<h3>导航</h3>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>快速搜索</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="转向" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2021, wnma3mz.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.8.5</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/wechatarticles.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>